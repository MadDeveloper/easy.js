#!/usr/bin/env node
import copydir  from 'copy-dir'
import { exec } from 'child_process'
import Console  from '~/vendor/easy/core/Console'
import path     from 'path'

const bundleSkeletonPath = path.resolve( './src/bundles/skeleton' )
const restoreBundleSkeletonPath = path.resolve( './.easy/restore/bundles/skeleton' )

exec( `rm -r ${bundleSkeletonPath}`, error => {
    copydir( restoreBundleSkeletonPath, bundleSkeletonPath, error => {
        if ( error ) {
            Console.error({
                title: `Error when restoring skeleton bundle from ${restoreBundleSkeletonPath}`,
                message: error,
                consequence: `Verify if both path are corrects: ${bundleSkeletonPath} - ${restoreBundleSkeletonPath}`,
                exit: 0
            })
        } else {
            Console.success( 'Skeleton restored.' )
            Console.line()
        }
    })
})
